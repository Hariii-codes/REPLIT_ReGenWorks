# Translation Setup Guide

## Overview
This system uses **ONE batch translation request** per language. No runtime translation - all translations are pre-generated.

## Supported Languages
- **English (en)** - Default
- **Hindi (hi)** - हिंदी
- **Kannada (kn)** - ಕನ್ನಡ

## Setup Steps

### 1. Ensure All UI Text is in `locales/en.json`
All user-visible UI text must be in `locales/en.json` (or `src/locales/en.json` if that directory exists).

### 2. Run Batch Translation
Run the batch translation script to generate translations:

```bash
python batch_translate_all.py
```

This will:
- Load ALL strings from `locales/en.json` (or `src/locales/en.json`)
- Make **ONE batch API call** to translate to Hindi
- Make **ONE batch API call** to translate to Kannada
- Save translations to:
  - `locales/hi.json` (or `src/locales/hi.json`)
  - `locales/kn.json` (or `src/locales/kn.json`)

### 3. No Runtime Translation
- **NO** runtime translation API calls
- **NO** translating content on-the-fly
- All translations are pre-generated and stored in JSON files

## Important Rules

1. **Only ONE batch request per language** - The script makes exactly 2 API calls total (one for Hindi, one for Kannada)

2. **No runtime translation** - The app does NOT call Gemini/OpenAI for translation during runtime

3. **Static UI text only** - Only translate static UI text (labels, buttons, headings). Do NOT translate:
   - Summary content (generated by Gemini)
   - Analysis results (generated by Gemini)
   - Carbon calculations (generated by code)

4. **i18n keys** - All UI text should use `get_localized_string()` with i18n keys

## File Structure

```
locales/
  en.json  (or src/locales/en.json)
  hi.json  (or src/locales/hi.json)
  kn.json  (or src/locales/kn.json)
```

## Usage in Code

```python
from localization_helper import get_localized_string, get_current_language

lang = get_current_language()
text = get_localized_string('your.key', lang, 'Default English text')
```

## Usage in Templates

```jinja2
{{ get_localized_string('your.key', get_current_language(), 'Default English text') }}
```

